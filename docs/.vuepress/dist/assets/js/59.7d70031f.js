(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{502:function(t,v,_){"use strict";_.r(v);var l=_(26),e=Object(l.a)({},(function(){var t=this,v=t.$createElement,_=t._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h1",{attrs:{id:"浏览器的回流与重绘"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#浏览器的回流与重绘"}},[t._v("#")]),t._v(" 浏览器的回流与重绘")]),t._v(" "),_("h2",{attrs:{id:"什么是回流和重绘"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#什么是回流和重绘"}},[t._v("#")]),t._v(" 什么是回流和重绘")]),t._v(" "),_("h3",{attrs:{id:"回流reflow"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#回流reflow"}},[t._v("#")]),t._v(" 回流Reflow")]),t._v(" "),_("p",[t._v("当渲染树"),_("code",[t._v("Render Tree")]),t._v("中"),_("strong",[t._v("部分或全部元素的尺寸、结构、或某些属性发生改变")]),t._v("时，浏览器重新渲染部分或全部文档的过程称为回流")]),t._v(" "),_("h3",{attrs:{id:"重绘repaint"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#重绘repaint"}},[t._v("#")]),t._v(" 重绘Repaint")]),t._v(" "),_("p",[t._v("当页面中"),_("strong",[t._v("元素样式的改变并不影响它在文档流中的位置")]),t._v("时（例如：color、background-color、visibility等），浏览器会将新样式赋予给元素并重新绘制它，这个过程称为重绘。")]),t._v(" "),_("div",{staticClass:"custom-block tip"},[_("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),_("p",[t._v("回流必将引起重绘，重绘不一定会引起回流")])]),t._v(" "),_("h2",{attrs:{id:"导致回流的操作"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#导致回流的操作"}},[t._v("#")]),t._v(" 导致回流的操作")]),t._v(" "),_("ul",[_("li",[t._v("页面首次渲染")]),t._v(" "),_("li",[t._v("浏览器窗口大小发生改变")]),t._v(" "),_("li",[t._v("元素尺寸或位置发生改变")]),t._v(" "),_("li",[t._v("元素内容变化（文字数量或图片大小等等）")]),t._v(" "),_("li",[t._v("元素字体大小变化")]),t._v(" "),_("li",[t._v("DOM元素的增加、删除")]),t._v(" "),_("li",[t._v("激活CSS伪类（例如：:hover）")]),t._v(" "),_("li",[t._v("查询某些属性或调用某些方法")])]),t._v(" "),_("p",[t._v("一些常用且会导致回流的属性和方法：")]),t._v(" "),_("ul",[_("li",[t._v("clientWidth、clientHeight、clientTop、clientLeft")]),t._v(" "),_("li",[t._v("offsetWidth、offsetHeight、offsetTop、offsetLeft")]),t._v(" "),_("li",[t._v("scrollWidth、scrollHeight、scrollTop、scrollLeft")]),t._v(" "),_("li",[t._v("scrollIntoView()、scrollIntoViewIfNeeded()")]),t._v(" "),_("li",[t._v("getComputedStyle()")]),t._v(" "),_("li",[t._v("getBoundingClientRect()")]),t._v(" "),_("li",[t._v("scrollTo()")])]),t._v(" "),_("h2",{attrs:{id:"如何避免"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#如何避免"}},[t._v("#")]),t._v(" 如何避免")]),t._v(" "),_("p",[t._v("css")]),t._v(" "),_("ul",[_("li",[t._v("避免使用"),_("code",[t._v("table布局")])]),t._v(" "),_("li",[t._v("尽可能在DOM树的最末端改变class")]),t._v(" "),_("li",[t._v("避免设置多层内联样式")]),t._v(" "),_("li",[t._v("将动画效果应用到"),_("code",[t._v("position")]),t._v("属性为"),_("code",[t._v("absolute")]),t._v("或``fixed`的元素上")]),t._v(" "),_("li",[t._v("避免使用CSS表达式（例如："),_("code",[t._v("calc()")]),t._v("）")])]),t._v(" "),_("p",[t._v("js")]),t._v(" "),_("ul",[_("li",[t._v("避免频繁操作样式，最好一次性重写"),_("code",[t._v("style")]),t._v("属性，或者将样式列表定义为class并一次性更改class属性")]),t._v(" "),_("li",[t._v("避免频繁操作DOM，创建一个documentFragment，在它上面应用所有DOM操作，最后再把它添加到文档中")]),t._v(" "),_("li",[t._v("也可以先为元素设置display: none，操作结束后再把它显示出来。因为在display属性为none的元素上进行的DOM操作不会引发回流和重绘")]),t._v(" "),_("li",[t._v("避免频繁读取会引发回流/重绘的属性，如果确实需要多次使用，就用一个变量缓存起来")]),t._v(" "),_("li",[t._v("对具有复杂动画的元素使用绝对定位，使它脱离文档流，否则会引起父元素及后续元素频繁回流")])])])}),[],!1,null,null,null);v.default=e.exports}}]);