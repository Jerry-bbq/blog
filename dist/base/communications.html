<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>通信类 | Blog</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/logo.png">
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.8e5f961b.css" as="style"><link rel="preload" href="/assets/js/app.a68e905e.js" as="script"><link rel="preload" href="/assets/js/2.545454b5.js" as="script"><link rel="preload" href="/assets/js/25.634ab70c.js" as="script"><link rel="prefetch" href="/assets/js/10.c3cf1c12.js"><link rel="prefetch" href="/assets/js/11.33587a7b.js"><link rel="prefetch" href="/assets/js/12.aff60a74.js"><link rel="prefetch" href="/assets/js/13.155a1953.js"><link rel="prefetch" href="/assets/js/14.0b1d1d72.js"><link rel="prefetch" href="/assets/js/15.efd7d200.js"><link rel="prefetch" href="/assets/js/16.1d7d243b.js"><link rel="prefetch" href="/assets/js/17.0579b7a7.js"><link rel="prefetch" href="/assets/js/18.30e65476.js"><link rel="prefetch" href="/assets/js/19.e2a0465c.js"><link rel="prefetch" href="/assets/js/20.c7213eb6.js"><link rel="prefetch" href="/assets/js/21.781d45ea.js"><link rel="prefetch" href="/assets/js/22.b83aaefb.js"><link rel="prefetch" href="/assets/js/23.d5ca9633.js"><link rel="prefetch" href="/assets/js/24.5c397418.js"><link rel="prefetch" href="/assets/js/26.85ea7d49.js"><link rel="prefetch" href="/assets/js/27.6056f0f9.js"><link rel="prefetch" href="/assets/js/28.29f349c6.js"><link rel="prefetch" href="/assets/js/29.9876f7ff.js"><link rel="prefetch" href="/assets/js/3.e1ad05a6.js"><link rel="prefetch" href="/assets/js/30.3a9cd144.js"><link rel="prefetch" href="/assets/js/31.00835958.js"><link rel="prefetch" href="/assets/js/32.76d09365.js"><link rel="prefetch" href="/assets/js/33.53d04d6e.js"><link rel="prefetch" href="/assets/js/34.285672ce.js"><link rel="prefetch" href="/assets/js/35.59fc3e90.js"><link rel="prefetch" href="/assets/js/36.51a28065.js"><link rel="prefetch" href="/assets/js/37.9afa9b43.js"><link rel="prefetch" href="/assets/js/38.76ee8f09.js"><link rel="prefetch" href="/assets/js/39.74b96b1a.js"><link rel="prefetch" href="/assets/js/4.dda20d7b.js"><link rel="prefetch" href="/assets/js/40.bf9a8a1e.js"><link rel="prefetch" href="/assets/js/41.2c5d26f5.js"><link rel="prefetch" href="/assets/js/42.029fa221.js"><link rel="prefetch" href="/assets/js/43.8f5d1319.js"><link rel="prefetch" href="/assets/js/44.84525bb6.js"><link rel="prefetch" href="/assets/js/45.44ded8a3.js"><link rel="prefetch" href="/assets/js/46.c37a17f5.js"><link rel="prefetch" href="/assets/js/47.4af73619.js"><link rel="prefetch" href="/assets/js/48.de965b8f.js"><link rel="prefetch" href="/assets/js/49.4cc50a9d.js"><link rel="prefetch" href="/assets/js/5.b38ef4db.js"><link rel="prefetch" href="/assets/js/50.8d9e604a.js"><link rel="prefetch" href="/assets/js/51.37da19a3.js"><link rel="prefetch" href="/assets/js/52.a3446c3a.js"><link rel="prefetch" href="/assets/js/53.6f8564f2.js"><link rel="prefetch" href="/assets/js/54.61f6294c.js"><link rel="prefetch" href="/assets/js/55.13e07aad.js"><link rel="prefetch" href="/assets/js/56.8867fe90.js"><link rel="prefetch" href="/assets/js/57.e55257f4.js"><link rel="prefetch" href="/assets/js/58.6fa822d6.js"><link rel="prefetch" href="/assets/js/59.6e329073.js"><link rel="prefetch" href="/assets/js/6.d24e8dfb.js"><link rel="prefetch" href="/assets/js/60.0ca372ae.js"><link rel="prefetch" href="/assets/js/61.35403f53.js"><link rel="prefetch" href="/assets/js/62.4ab8be6d.js"><link rel="prefetch" href="/assets/js/63.2e275df4.js"><link rel="prefetch" href="/assets/js/64.6790785c.js"><link rel="prefetch" href="/assets/js/65.dde7c8e4.js"><link rel="prefetch" href="/assets/js/66.cd7f8acb.js"><link rel="prefetch" href="/assets/js/7.ee16b613.js"><link rel="prefetch" href="/assets/js/8.71ca7b19.js"><link rel="prefetch" href="/assets/js/9.6dc304b9.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8e5f961b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/base/" class="nav-link router-link-active">
  基础
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><span class="title">框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="框架" class="mobile-dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Vue
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/frame/vue/v3/" class="nav-link">
  v3
</a></li><li class="dropdown-subitem"><a href="/frame/vue/v2/" class="nav-link">
  v2
</a></li><li class="dropdown-subitem"><a href="/frame/vue/vuex/" class="nav-link">
  Vuex
</a></li><li class="dropdown-subitem"><a href="/frame/vue/vue-router/" class="nav-link">
  VueRouter
</a></li></ul></li><li class="dropdown-item"><h4>
          React
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/frame/react/react/" class="nav-link">
  React
</a></li><li class="dropdown-subitem"><a href="/frame/react/react-router/" class="nav-link">
  ReactRouter
</a></li><li class="dropdown-subitem"><a href="/frame/react/redux/" class="nav-link">
  Redux
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="打包工具" class="dropdown-title"><span class="title">打包工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="打包工具" class="mobile-dropdown-title"><span class="title">打包工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Webpack
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/bundle-tool/webpack/v2.html" class="nav-link">
  v2
</a></li><li class="dropdown-subitem"><a href="/bundle-tool/webpack/v4.html" class="nav-link">
  v4
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/bundle-tool/rollup/" class="nav-link">
  Rollup
</a></li><li class="dropdown-item"><!----> <a href="/bundle-tool/gulp/" class="nav-link">
  Gulp
</a></li></ul></div></div><div class="nav-item"><a href="/share/" class="nav-link">
  分享
</a></div><div class="nav-item"><a href="https://gitee.com/luguanrui/lgr-tools?_from=gitee_search" target="_blank" rel="noopener noreferrer" class="nav-link external">
  工具函数
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/luguanrui?tab=repositories" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/base/" class="nav-link router-link-active">
  基础
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><span class="title">框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="框架" class="mobile-dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Vue
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/frame/vue/v3/" class="nav-link">
  v3
</a></li><li class="dropdown-subitem"><a href="/frame/vue/v2/" class="nav-link">
  v2
</a></li><li class="dropdown-subitem"><a href="/frame/vue/vuex/" class="nav-link">
  Vuex
</a></li><li class="dropdown-subitem"><a href="/frame/vue/vue-router/" class="nav-link">
  VueRouter
</a></li></ul></li><li class="dropdown-item"><h4>
          React
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/frame/react/react/" class="nav-link">
  React
</a></li><li class="dropdown-subitem"><a href="/frame/react/react-router/" class="nav-link">
  ReactRouter
</a></li><li class="dropdown-subitem"><a href="/frame/react/redux/" class="nav-link">
  Redux
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="打包工具" class="dropdown-title"><span class="title">打包工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="打包工具" class="mobile-dropdown-title"><span class="title">打包工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Webpack
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/bundle-tool/webpack/v2.html" class="nav-link">
  v2
</a></li><li class="dropdown-subitem"><a href="/bundle-tool/webpack/v4.html" class="nav-link">
  v4
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/bundle-tool/rollup/" class="nav-link">
  Rollup
</a></li><li class="dropdown-item"><!----> <a href="/bundle-tool/gulp/" class="nav-link">
  Gulp
</a></li></ul></div></div><div class="nav-item"><a href="/share/" class="nav-link">
  分享
</a></div><div class="nav-item"><a href="https://gitee.com/luguanrui/lgr-tools?_from=gitee_search" target="_blank" rel="noopener noreferrer" class="nav-link external">
  工具函数
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/luguanrui?tab=repositories" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/base/" aria-current="page" class="sidebar-link">目录</a></li><li><a href="/base/html.html" class="sidebar-link">html5相关</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/base/html.html#浏览器中输入url回车发生了什么" class="sidebar-link">浏览器中输入url回车发生了什么</a></li><li class="sidebar-sub-header"><a href="/base/html.html#浏览器的渲染过程" class="sidebar-link">浏览器的渲染过程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/base/html.html#_1-解析html生成dom树" class="sidebar-link">1.解析HTML生成DOM树</a></li><li class="sidebar-sub-header"><a href="/base/html.html#_2-解析css生成cssom规则树" class="sidebar-link">2.解析CSS生成CSSOM规则树</a></li><li class="sidebar-sub-header"><a href="/base/html.html#_3-将dom树与cssom规则树合并在一起生成rendertree渲染树" class="sidebar-link">3. 将DOM树与CSSOM规则树合并在一起生成RenderTree渲染树</a></li><li class="sidebar-sub-header"><a href="/base/html.html#_4-遍历渲染树开始布局-计算每个节点的位置、大小-layout-回流" class="sidebar-link">4.遍历渲染树开始布局，计算每个节点的位置、大小（Layout(回流）</a></li><li class="sidebar-sub-header"><a href="/base/html.html#_5-将渲染树每个节点绘制到屏幕" class="sidebar-link">5.将渲染树每个节点绘制到屏幕</a></li></ul></li><li class="sidebar-sub-header"><a href="/base/html.html#浏览器的回流与重绘" class="sidebar-link">浏览器的回流与重绘</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/base/html.html#什么是回流和重绘" class="sidebar-link">什么是回流和重绘</a></li><li class="sidebar-sub-header"><a href="/base/html.html#导致回流的操作" class="sidebar-link">导致回流的操作</a></li><li class="sidebar-sub-header"><a href="/base/html.html#如何避免" class="sidebar-link">如何避免</a></li></ul></li><li class="sidebar-sub-header"><a href="/base/html.html#href和src的区别" class="sidebar-link">href和src的区别</a></li><li class="sidebar-sub-header"><a href="/base/html.html#img标签中的alt和title属性的作用" class="sidebar-link">img标签中的alt和title属性的作用</a></li><li class="sidebar-sub-header"><a href="/base/html.html#doctype的作用" class="sidebar-link">DOCTYPE的作用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/base/html.html#html5" class="sidebar-link">HTML5</a></li><li class="sidebar-sub-header"><a href="/base/html.html#html4-01-strict-严格模式" class="sidebar-link">HTML4.01 Strict（严格模式）</a></li><li class="sidebar-sub-header"><a href="/base/html.html#html4-01-transitional-传统模式" class="sidebar-link">HTML4.01 Transitional（传统模式）</a></li></ul></li><li class="sidebar-sub-header"><a href="/base/html.html#canvas与svg的区别" class="sidebar-link">Canvas与SVG的区别</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/base/html.html#svg" class="sidebar-link">SVG</a></li><li class="sidebar-sub-header"><a href="/base/html.html#canvas" class="sidebar-link">Canvas</a></li><li class="sidebar-sub-header"><a href="/base/html.html#对比简述" class="sidebar-link">对比简述</a></li></ul></li></ul></li><li><a href="/base/css.html" class="sidebar-link">css3相关</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/base/css.html#bfc及其工作原理" class="sidebar-link">BFC及其工作原理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/base/css.html#定义" class="sidebar-link">定义</a></li><li class="sidebar-sub-header"><a href="/base/css.html#bfc的规则" class="sidebar-link">BFC的规则</a></li><li class="sidebar-sub-header"><a href="/base/css.html#如何生成bfc" class="sidebar-link">如何生成BFC</a></li><li class="sidebar-sub-header"><a href="/base/css.html#bfc的作用" class="sidebar-link">BFC的作用</a></li></ul></li><li class="sidebar-sub-header"><a href="/base/css.html#盒模型" class="sidebar-link">盒模型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/base/css.html#概念" class="sidebar-link">概念</a></li><li class="sidebar-sub-header"><a href="/base/css.html#标准盒模型与ie模盒型" class="sidebar-link">标准盒模型与IE模盒型</a></li><li class="sidebar-sub-header"><a href="/base/css.html#js如何设置获取盒模型对应的宽和高" class="sidebar-link">JS如何设置获取盒模型对应的宽和高</a></li></ul></li><li class="sidebar-sub-header"><a href="/base/css.html#清除浮动" class="sidebar-link">清除浮动</a></li><li class="sidebar-sub-header"><a href="/base/css.html#display-none、visibile-hidden、opacity-0的区别" class="sidebar-link">display:none、visibile:hidden、opacity:0的区别</a></li><li class="sidebar-sub-header"><a href="/base/css.html#水平垂直居中的方式" class="sidebar-link">水平垂直居中的方式</a></li><li class="sidebar-sub-header"><a href="/base/css.html#文本超出部分显示省略号" class="sidebar-link">文本超出部分显示省略号</a></li><li class="sidebar-sub-header"><a href="/base/css.html#页面布局" class="sidebar-link">页面布局</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/base/css.html#三栏布局" class="sidebar-link">三栏布局</a></li><li class="sidebar-sub-header"><a href="/base/css.html#flex布局" class="sidebar-link">flex布局</a></li><li class="sidebar-sub-header"><a href="/base/css.html#绝对定位布局absolute" class="sidebar-link">绝对定位布局absolute</a></li><li class="sidebar-sub-header"><a href="/base/css.html#浮动布局float" class="sidebar-link">浮动布局float</a></li><li class="sidebar-sub-header"><a href="/base/css.html#表格布局table" class="sidebar-link">表格布局table</a></li><li class="sidebar-sub-header"><a href="/base/css.html#网格布局grid" class="sidebar-link">网格布局grid</a></li></ul></li></ul></li><li><a href="/base/scope.html" class="sidebar-link">作用域和闭包</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/base/scope.html#内置类型" class="sidebar-link">内置类型</a></li><li class="sidebar-sub-header"><a href="/base/scope.html#作用域" class="sidebar-link">作用域</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/base/scope.html#定义" class="sidebar-link">定义</a></li></ul></li><li class="sidebar-sub-header"><a href="/base/scope.html#作用域链" class="sidebar-link">作用域链</a></li><li class="sidebar-sub-header"><a href="/base/scope.html#let、var、const的区别" class="sidebar-link">let、var、const的区别</a></li><li class="sidebar-sub-header"><a href="/base/scope.html#闭包" class="sidebar-link">闭包</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/base/scope.html#定义-2" class="sidebar-link">定义</a></li></ul></li></ul></li><li><a href="/base/dom.html" class="sidebar-link">DOM事件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/base/dom.html#dom事件-2" class="sidebar-link">DOM事件</a></li><li class="sidebar-sub-header"><a href="/base/dom.html#dom事件模型" class="sidebar-link">DOM事件模型</a></li><li class="sidebar-sub-header"><a href="/base/dom.html#dom事件流" class="sidebar-link">DOM事件流</a></li><li class="sidebar-sub-header"><a href="/base/dom.html#event对象的常见应用" class="sidebar-link">Event对象的常见应用</a></li><li class="sidebar-sub-header"><a href="/base/dom.html#自定义事件-或者是模拟事件" class="sidebar-link">自定义事件,或者是模拟事件</a></li><li class="sidebar-sub-header"><a href="/base/dom.html#拓展" class="sidebar-link">拓展</a></li></ul></li><li><a href="/base/prototype-chain.html" class="sidebar-link">原型链</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/base/prototype-chain.html#原型对象" class="sidebar-link">原型对象</a></li><li class="sidebar-sub-header"><a href="/base/prototype-chain.html#构造函数" class="sidebar-link">构造函数</a></li><li class="sidebar-sub-header"><a href="/base/prototype-chain.html#原型链-2" class="sidebar-link">原型链</a></li><li class="sidebar-sub-header"><a href="/base/prototype-chain.html#创建对象有几种方法" class="sidebar-link">创建对象有几种方法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/base/prototype-chain.html#字面量方法" class="sidebar-link">字面量方法</a></li><li class="sidebar-sub-header"><a href="/base/prototype-chain.html#构造函数-2" class="sidebar-link">构造函数</a></li><li class="sidebar-sub-header"><a href="/base/prototype-chain.html#object-create" class="sidebar-link">Object.create()</a></li></ul></li><li class="sidebar-sub-header"><a href="/base/prototype-chain.html#原型、构造函数、实例、原型链的关系" class="sidebar-link">原型、构造函数、实例、原型链的关系</a></li><li class="sidebar-sub-header"><a href="/base/prototype-chain.html#instanceof的原理" class="sidebar-link">instanceof的原理</a></li><li class="sidebar-sub-header"><a href="/base/prototype-chain.html#new运算符" class="sidebar-link">new运算符</a></li><li class="sidebar-sub-header"><a href="/base/prototype-chain.html#类与实例" class="sidebar-link">类与实例</a></li><li class="sidebar-sub-header"><a href="/base/prototype-chain.html#类与继承" class="sidebar-link">类与继承</a></li><li class="sidebar-sub-header"><a href="/base/prototype-chain.html#继承的几种方式" class="sidebar-link">继承的几种方式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/base/prototype-chain.html#_1-借助构造函数实现继承" class="sidebar-link">1. 借助构造函数实现继承</a></li><li class="sidebar-sub-header"><a href="/base/prototype-chain.html#_2-借助原型链实现继承" class="sidebar-link">2. 借助原型链实现继承</a></li><li class="sidebar-sub-header"><a href="/base/prototype-chain.html#_3-组合方式-组合构造函数和原型链两种方式" class="sidebar-link">3. 组合方式,组合构造函数和原型链两种方式</a></li><li class="sidebar-sub-header"><a href="/base/prototype-chain.html#_4-优化方式1-通过父类的prototype" class="sidebar-link">4. 优化方式1: 通过父类的prototype</a></li><li class="sidebar-sub-header"><a href="/base/prototype-chain.html#_5-优化方式2-通过object-create" class="sidebar-link">5. 优化方式2：通过Object.create()</a></li><li class="sidebar-sub-header"><a href="/base/prototype-chain.html#_6-使用es6的extends" class="sidebar-link">6. 使用es6的extends</a></li></ul></li></ul></li><li><a href="/base/communications.html" aria-current="page" class="active sidebar-link">通信类</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/base/communications.html#什么是同源策略及限制" class="sidebar-link">什么是同源策略及限制</a></li><li class="sidebar-sub-header"><a href="/base/communications.html#前后端如何通信" class="sidebar-link">前后端如何通信</a></li><li class="sidebar-sub-header"><a href="/base/communications.html#如何创建ajax-原生" class="sidebar-link">如何创建Ajax（原生）</a></li><li class="sidebar-sub-header"><a href="/base/communications.html#跨域通信的几种方式-5种" class="sidebar-link">跨域通信的几种方式（5种）</a></li><li class="sidebar-sub-header"><a href="/base/communications.html#怎么与服务端保持连接" class="sidebar-link">怎么与服务端保持连接</a></li><li class="sidebar-sub-header"><a href="/base/communications.html#cookie有哪些属性" class="sidebar-link">cookie有哪些属性</a></li><li class="sidebar-sub-header"><a href="/base/communications.html#前端存储" class="sidebar-link">前端存储</a></li><li class="sidebar-sub-header"><a href="/base/communications.html#怎么禁止js访问cookie" class="sidebar-link">怎么禁止js访问cookie</a></li></ul></li><li><a href="/base/http.html" class="sidebar-link">HTTP</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/base/http.html#http协议的主要特点" class="sidebar-link">HTTP协议的主要特点</a></li><li class="sidebar-sub-header"><a href="/base/http.html#http报文的组成部分" class="sidebar-link">HTTP报文的组成部分</a></li><li class="sidebar-sub-header"><a href="/base/http.html#http请求的方法" class="sidebar-link">HTTP请求的方法</a></li><li class="sidebar-sub-header"><a href="/base/http.html#post个get的区别-记住三到四个" class="sidebar-link">POST个GET的区别（记住三到四个）</a></li><li class="sidebar-sub-header"><a href="/base/http.html#http状态码" class="sidebar-link">HTTP状态码</a></li><li class="sidebar-sub-header"><a href="/base/http.html#什么是持久连接-每个连接可以处理多个请求-响应事务" class="sidebar-link">什么是持久连接：每个连接可以处理多个请求-响应事务</a></li><li class="sidebar-sub-header"><a href="/base/http.html#什么是管线化" class="sidebar-link">什么是管线化</a></li><li class="sidebar-sub-header"><a href="/base/http.html#http和https的区别" class="sidebar-link">http和https的区别</a></li><li class="sidebar-sub-header"><a href="/base/http.html#简述https原理-以及与http的区别" class="sidebar-link">简述https原理，以及与http的区别</a></li><li class="sidebar-sub-header"><a href="/base/http.html#操作系统中进程和线程怎么通信" class="sidebar-link">操作系统中进程和线程怎么通信</a></li><li class="sidebar-sub-header"><a href="/base/http.html#你知道哪些http头部" class="sidebar-link">你知道哪些http头部</a></li><li class="sidebar-sub-header"><a href="/base/http.html#tcp三次握手四次挥手" class="sidebar-link">TCP三次握手四次挥手</a></li><li class="sidebar-sub-header"><a href="/base/http.html#tcp为什么建立连接协议是三次握手-而关闭连接却是四次握手" class="sidebar-link">TCP为什么建立连接协议是三次握手，而关闭连接却是四次握手</a></li></ul></li><li><a href="/base/safe.html" class="sidebar-link">安全类</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/base/safe.html#csrf-跨站请求伪造" class="sidebar-link">CSRF-跨站请求伪造</a></li><li class="sidebar-sub-header"><a href="/base/safe.html#xss-跨域脚本攻击" class="sidebar-link">XSS-跨域脚本攻击</a></li></ul></li><li><a href="/base/algorithm.html" class="sidebar-link">算法类</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/base/algorithm.html#将数组转化为树形结构" class="sidebar-link">将数组转化为树形结构</a></li><li class="sidebar-sub-header"><a href="/base/algorithm.html#排序" class="sidebar-link">排序</a></li><li class="sidebar-sub-header"><a href="/base/algorithm.html#堆栈、队列、链表" class="sidebar-link">堆栈、队列、链表</a></li><li class="sidebar-sub-header"><a href="/base/algorithm.html#递归" class="sidebar-link">递归</a></li><li class="sidebar-sub-header"><a href="/base/algorithm.html#浅拷贝和深拷贝" class="sidebar-link">浅拷贝和深拷贝</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/base/algorithm.html#浅拷贝" class="sidebar-link">浅拷贝</a></li><li class="sidebar-sub-header"><a href="/base/algorithm.html#深拷贝" class="sidebar-link">深拷贝</a></li></ul></li><li class="sidebar-sub-header"><a href="/base/algorithm.html#数组去重" class="sidebar-link">数组去重</a></li><li class="sidebar-sub-header"><a href="/base/algorithm.html#实现36进制转换" class="sidebar-link">实现36进制转换</a></li><li class="sidebar-sub-header"><a href="/base/algorithm.html#数组展评" class="sidebar-link">数组展评</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/base/algorithm.html#二维数组展开" class="sidebar-link">二维数组展开</a></li><li class="sidebar-sub-header"><a href="/base/algorithm.html#多维数组展开-递归" class="sidebar-link">多维数组展开(递归)</a></li></ul></li><li class="sidebar-sub-header"><a href="/base/algorithm.html#函数柯里化" class="sidebar-link">函数柯里化</a></li></ul></li><li><a href="/base/event-loop.html" class="sidebar-link">事件循环机制</a></li><li><a href="/base/page-performance.html" class="sidebar-link">页面性能</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/base/page-performance.html#异步加载的方式" class="sidebar-link">异步加载的方式</a></li><li class="sidebar-sub-header"><a href="/base/page-performance.html#异步加载的区别" class="sidebar-link">异步加载的区别：</a></li><li class="sidebar-sub-header"><a href="/base/page-performance.html#浏览器缓存" class="sidebar-link">浏览器缓存：</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/base/page-performance.html#缓存分类" class="sidebar-link">缓存分类</a></li></ul></li></ul></li><li><a href="/base/error.html" class="sidebar-link">错误监控</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/base/error.html#前端错误的分类" class="sidebar-link">前端错误的分类</a></li><li class="sidebar-sub-header"><a href="/base/error.html#错误的捕获方式" class="sidebar-link">错误的捕获方式</a></li><li class="sidebar-sub-header"><a href="/base/error.html#处理方式" class="sidebar-link">处理方式</a></li><li class="sidebar-sub-header"><a href="/base/error.html#上报错误的基本原理" class="sidebar-link">上报错误的基本原理</a></li></ul></li><li><a href="/base/change-this.html" class="sidebar-link">改变函数对象中的this指向</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/base/change-this.html#箭头函数与普通函数的区别" class="sidebar-link">箭头函数与普通函数的区别</a></li><li class="sidebar-sub-header"><a href="/base/change-this.html#call-apply-bind" class="sidebar-link">call/apply/bind</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/base/change-this.html#区别" class="sidebar-link">区别</a></li><li class="sidebar-sub-header"><a href="/base/change-this.html#应用" class="sidebar-link">应用</a></li><li class="sidebar-sub-header"><a href="/base/change-this.html#自定义call、apply" class="sidebar-link">自定义call、apply</a></li><li class="sidebar-sub-header"><a href="/base/change-this.html#自定义bind" class="sidebar-link">自定义bind</a></li></ul></li><li class="sidebar-sub-header"><a href="/base/change-this.html#其他自定义实现方式" class="sidebar-link">其他自定义实现方式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/base/change-this.html#call" class="sidebar-link">call</a></li><li class="sidebar-sub-header"><a href="/base/change-this.html#apply" class="sidebar-link">apply</a></li><li class="sidebar-sub-header"><a href="/base/change-this.html#bind" class="sidebar-link">bind</a></li></ul></li></ul></li><li><a href="/base/debounce-throttle.html" class="sidebar-link">防抖和节流</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/base/debounce-throttle.html#防抖debounce" class="sidebar-link">防抖debounce</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/base/debounce-throttle.html#概念" class="sidebar-link">概念</a></li><li class="sidebar-sub-header"><a href="/base/debounce-throttle.html#应用场景" class="sidebar-link">应用场景</a></li></ul></li><li class="sidebar-sub-header"><a href="/base/debounce-throttle.html#节流throttle" class="sidebar-link">节流throttle</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/base/debounce-throttle.html#概念-2" class="sidebar-link">概念</a></li><li class="sidebar-sub-header"><a href="/base/debounce-throttle.html#应用场景-2" class="sidebar-link">应用场景</a></li></ul></li></ul></li><li><a href="/base/array.html" class="sidebar-link">数组</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/base/array.html#数组声明式系列方法" class="sidebar-link">数组声明式系列方法</a></li><li class="sidebar-sub-header"><a href="/base/array.html#数组去重-unique" class="sidebar-link">数组去重(unique)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/base/array.html#利用foreach-和indexof" class="sidebar-link">利用forEach()和indexOf()</a></li><li class="sidebar-sub-header"><a href="/base/array.html#利用foreach-对象容器" class="sidebar-link">利用forEach() + 对象容器</a></li><li class="sidebar-sub-header"><a href="/base/array.html#利用es6语法-from-set-或者-set" class="sidebar-link">利用ES6语法: from + Set 或者 ... + Set</a></li></ul></li><li class="sidebar-sub-header"><a href="/base/array.html#数组合并-concat-与切片-slice" class="sidebar-link">数组合并(concat)与切片(slice)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/base/array.html#合并concat" class="sidebar-link">合并concat()</a></li><li class="sidebar-sub-header"><a href="/base/array.html#切片slice" class="sidebar-link">切片slice()</a></li></ul></li><li class="sidebar-sub-header"><a href="/base/array.html#数组扁平化-flatten" class="sidebar-link">数组扁平化(flatten)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/base/array.html#理解" class="sidebar-link">理解</a></li><li class="sidebar-sub-header"><a href="/base/array.html#实现" class="sidebar-link">实现</a></li></ul></li><li class="sidebar-sub-header"><a href="/base/array.html#数组取真与分块" class="sidebar-link">数组取真与分块</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/base/array.html#compact-array" class="sidebar-link">compact(array)</a></li><li class="sidebar-sub-header"><a href="/base/array.html#chunk-array-size" class="sidebar-link">chunk(array, size)</a></li></ul></li><li class="sidebar-sub-header"><a href="/base/array.html#数组取差异与合并" class="sidebar-link">数组取差异与合并</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/base/array.html#difference-arr1-arr2" class="sidebar-link">difference(arr1, arr2)</a></li><li class="sidebar-sub-header"><a href="/base/array.html#mergearray-arr1-arr2" class="sidebar-link">mergeArray(arr1, arr2)</a></li></ul></li><li class="sidebar-sub-header"><a href="/base/array.html#删除数组中部分元素" class="sidebar-link">删除数组中部分元素</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/base/array.html#pull-array-values" class="sidebar-link">pull(array, ...values)</a></li><li class="sidebar-sub-header"><a href="/base/array.html#pullall-array-values" class="sidebar-link">pullAll(array, values)</a></li></ul></li><li class="sidebar-sub-header"><a href="/base/array.html#得到数组的部分元素" class="sidebar-link">得到数组的部分元素</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/base/array.html#drop-array-count" class="sidebar-link">drop(array, count)</a></li><li class="sidebar-sub-header"><a href="/base/array.html#dropright-array-count" class="sidebar-link">dropRight(array, count)</a></li></ul></li></ul></li><li><a href="/base/object.html" class="sidebar-link">对象</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/base/object.html#自定义new和instanceof工具函数" class="sidebar-link">自定义new和instanceof工具函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/base/object.html#自定义new工具函数" class="sidebar-link">自定义new工具函数</a></li><li class="sidebar-sub-header"><a href="/base/object.html#自定义instanceof工具函数" class="sidebar-link">自定义instanceof工具函数</a></li></ul></li><li class="sidebar-sub-header"><a href="/base/object.html#合并多个对象" class="sidebar-link">合并多个对象</a></li><li class="sidebar-sub-header"><a href="/base/object.html#对象-数组拷贝" class="sidebar-link">对象/数组拷贝</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/base/object.html#浅拷贝" class="sidebar-link">浅拷贝</a></li><li class="sidebar-sub-header"><a href="/base/object.html#深拷贝" class="sidebar-link">深拷贝</a></li></ul></li></ul></li><li><a href="/base/string.html" class="sidebar-link">字符串</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/base/string.html#字符串倒序" class="sidebar-link">字符串倒序</a></li><li class="sidebar-sub-header"><a href="/base/string.html#字符串是否是回文" class="sidebar-link">字符串是否是回文</a></li><li class="sidebar-sub-header"><a href="/base/string.html#截取字符串" class="sidebar-link">截取字符串</a></li></ul></li><li><a href="/base/es6.html" class="sidebar-link">es6</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/base/es6.html#symbol" class="sidebar-link">Symbol</a></li><li class="sidebar-sub-header"><a href="/base/es6.html#map和weakmap的区别" class="sidebar-link">Map和Weakmap的区别</a></li><li class="sidebar-sub-header"><a href="/base/es6.html#promise" class="sidebar-link">Promise</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/base/es6.html#reject和catch" class="sidebar-link">reject和catch</a></li><li class="sidebar-sub-header"><a href="/base/es6.html#手写promise" class="sidebar-link">手写promise</a></li></ul></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="通信类"><a href="#通信类" class="header-anchor">#</a> 通信类</h1> <h2 id="什么是同源策略及限制"><a href="#什么是同源策略及限制" class="header-anchor">#</a> 什么是同源策略及限制</h2> <p>同源策略限制从一个源加载的文件或者脚本如何与来自另一个源的资源进行交互。这是一个用于隔离潜在恶意文件的关键的安全机制。（源包含：协议+域名+端口）</p> <p>同源策略有哪些限制：</p> <ul><li>Cookie,LocalStrorage和IndexDB无法读取</li> <li>DOM无法获取</li> <li>AJAX请求不能发送</li></ul> <h2 id="前后端如何通信"><a href="#前后端如何通信" class="header-anchor">#</a> 前后端如何通信</h2> <ul><li>AJAX（只适合同源策略的通讯方式）</li> <li>WebSocket(不受同源策略的限制)</li> <li>CORS（支持同源策略通信，也可以不是同源策略的通信）</li></ul> <h2 id="如何创建ajax-原生"><a href="#如何创建ajax-原生" class="header-anchor">#</a> 如何创建Ajax（原生）</h2> <ul><li>XMLHttpRequst对象的工作流程</li> <li>兼容性处理（IE不支持）</li> <li>事件的触发条件</li> <li>事件的触发顺序</li></ul> <p>实现：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">ajax</span><span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> xhr <span class="token operator">=</span> window<span class="token punctuation">.</span>XMLHttpRequest 
              <span class="token operator">?</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
              <span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ActiveXObject</span><span class="token punctuation">(</span><span class="token string">&quot;Microsoft.XMLHTTP&quot;</span><span class="token punctuation">)</span>
    xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;get&quot;</span><span class="token punctuation">,</span> url<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    xhr<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>readystate <span class="token operator">==</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">var</span> data <span class="token operator">=</span> xhr<span class="token punctuation">.</span>responseText<span class="token punctuation">;</span>
                <span class="token keyword">return</span> data<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="跨域通信的几种方式-5种"><a href="#跨域通信的几种方式-5种" class="header-anchor">#</a> 跨域通信的几种方式（5种）</h2> <ul><li>JSONP</li> <li>Hash（url后面的#）</li> <li>postMessage（h5中新增）</li> <li>WebSocket</li> <li>CORS（理解为Ajax的一种方式）</li></ul> <p>(1)JSONP</p> <p>原理：利用script标签的异步加载来实现</p> <p>实现：</p> <div class="language-js extra-class"><pre class="language-js"><code>  自查
</code></pre></div><p>(2) Hash</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 利用hash，场景是当前页面 A 通过iframe或frame嵌入了跨域的页面 B</span>
<span class="token comment">// 在A中伪代码如下：</span>
<span class="token keyword">var</span> <span class="token constant">B</span> <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'iframe'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token constant">B</span><span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token constant">B</span><span class="token punctuation">.</span>src <span class="token operator">+</span> <span class="token string">'#'</span> <span class="token operator">+</span> <span class="token string">'data'</span><span class="token punctuation">;</span>
<span class="token comment">// 在B中的伪代码如下</span>
window<span class="token punctuation">.</span><span class="token function-variable function">onhashchange</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> data <span class="token operator">=</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>hash<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>(3) postMessage</p> <p>实现：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 窗口A(http:A.com)向跨域的窗口B(http:B.com)发送信息</span>
Bwindow<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span><span class="token string">'data'</span><span class="token punctuation">,</span> <span class="token string">'http://B.com'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 在窗口B中监听</span>
Awindow<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'message'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>origin<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>source<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>(4) WebSocket</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Websocket【参考资料】http://www.ruanyifeng.com/blog/2017/05/websocket.html</span>

<span class="token keyword">var</span> ws <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebSocket</span><span class="token punctuation">(</span><span class="token string">'wss://echo.websocket.org'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 发送消息</span>
ws<span class="token punctuation">.</span><span class="token function-variable function">onopen</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">evt</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Connection open ...'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ws<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'Hello WebSockets!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 接受消息</span>
ws<span class="token punctuation">.</span><span class="token function-variable function">onmessage</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">evt</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Received Message: '</span><span class="token punctuation">,</span> evt<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
  ws<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 连接中断</span>
ws<span class="token punctuation">.</span><span class="token function-variable function">onclose</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">evt</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Connection closed.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>(5) CORS</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// CORS【参考资料】http://www.ruanyifeng.com/blog/2016/04/cors.html</span>
<span class="token comment">// url（必选），options（可选）</span>
<span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'/some/url/'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  method<span class="token operator">:</span> <span class="token string">'get'</span><span class="token punctuation">,</span>
  <span class="token comment">// 跨域的，这里需要加配置</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token comment">// 出错了，等价于 then 的第二个参数，但这样更好用更直观</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="怎么与服务端保持连接"><a href="#怎么与服务端保持连接" class="header-anchor">#</a> 怎么与服务端保持连接</h2> <ul><li>HTTP请求头需要增加<code>Connection:keep-alive</code>字段</li> <li>websocket</li></ul> <h2 id="cookie有哪些属性"><a href="#cookie有哪些属性" class="header-anchor">#</a> cookie有哪些属性</h2> <p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Document/cookie" target="_blank" rel="noopener noreferrer">cookie<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <table><thead><tr><th>属性</th> <th>说明</th></tr></thead> <tbody><tr><td><div style="width:130px;">name(必要)</div></td> <td>要创建或覆盖的cookie的名字(string)</td></tr> <tr><td>value(必要)</td> <td>cookie的值(string)</td></tr> <tr><td>domain</td> <td>可以访问此cookie的域名</td></tr> <tr><td>path</td> <td>可以访问此cookie的页面路径(如果没有定义，默认为当前文档位置的路径)</td></tr> <tr><td>expires/max-age</td> <td>设置cookie超时时间。如果设置的值为一个时间，则当到达该时间时此cookie失效。不设置的话默认是session，意思是cookie会和session一起失效，当浏览器关闭（并不是浏览器标签关闭，而是整个浏览器关闭）后，cookie失效。</td></tr> <tr><td>http</td> <td>cookie的httponly属性，若此属性为True，则只有在http请求头中会有此cookie信息，而不能通过document.cookie来访问此cookie。</td></tr> <tr><td>secure</td> <td>cookie只会被https传输 (boolean或null)</td></tr></tbody></table> <h2 id="前端存储"><a href="#前端存储" class="header-anchor">#</a> 前端存储</h2> <p>cookie,session,localstorage,sessionstorage有什么区别</p> <h2 id="怎么禁止js访问cookie"><a href="#怎么禁止js访问cookie" class="header-anchor">#</a> 怎么禁止js访问cookie</h2> <p>如果您在cookie中设置了<code>HttpOnly</code>属性，那么通过js脚本将无法读取到cookie信息，这样能有效的防止XSS攻击</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2021-05-17 14:29:39</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/base/prototype-chain.html" class="prev">
        原型链
      </a></span> <span class="next"><a href="/base/http.html">
        HTTP
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.a68e905e.js" defer></script><script src="/assets/js/2.545454b5.js" defer></script><script src="/assets/js/25.634ab70c.js" defer></script>
  </body>
</html>
