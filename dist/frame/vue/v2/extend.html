<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>扩展 | Blog</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/logo.png">
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.8e5f961b.css" as="style"><link rel="preload" href="/assets/js/app.a68e905e.js" as="script"><link rel="preload" href="/assets/js/2.545454b5.js" as="script"><link rel="preload" href="/assets/js/3.e1ad05a6.js" as="script"><link rel="prefetch" href="/assets/js/10.c3cf1c12.js"><link rel="prefetch" href="/assets/js/11.33587a7b.js"><link rel="prefetch" href="/assets/js/12.aff60a74.js"><link rel="prefetch" href="/assets/js/13.155a1953.js"><link rel="prefetch" href="/assets/js/14.0b1d1d72.js"><link rel="prefetch" href="/assets/js/15.efd7d200.js"><link rel="prefetch" href="/assets/js/16.1d7d243b.js"><link rel="prefetch" href="/assets/js/17.0579b7a7.js"><link rel="prefetch" href="/assets/js/18.30e65476.js"><link rel="prefetch" href="/assets/js/19.e2a0465c.js"><link rel="prefetch" href="/assets/js/20.c7213eb6.js"><link rel="prefetch" href="/assets/js/21.781d45ea.js"><link rel="prefetch" href="/assets/js/22.b83aaefb.js"><link rel="prefetch" href="/assets/js/23.d5ca9633.js"><link rel="prefetch" href="/assets/js/24.5c397418.js"><link rel="prefetch" href="/assets/js/25.634ab70c.js"><link rel="prefetch" href="/assets/js/26.85ea7d49.js"><link rel="prefetch" href="/assets/js/27.6056f0f9.js"><link rel="prefetch" href="/assets/js/28.29f349c6.js"><link rel="prefetch" href="/assets/js/29.9876f7ff.js"><link rel="prefetch" href="/assets/js/30.3a9cd144.js"><link rel="prefetch" href="/assets/js/31.00835958.js"><link rel="prefetch" href="/assets/js/32.76d09365.js"><link rel="prefetch" href="/assets/js/33.53d04d6e.js"><link rel="prefetch" href="/assets/js/34.285672ce.js"><link rel="prefetch" href="/assets/js/35.59fc3e90.js"><link rel="prefetch" href="/assets/js/36.51a28065.js"><link rel="prefetch" href="/assets/js/37.9afa9b43.js"><link rel="prefetch" href="/assets/js/38.76ee8f09.js"><link rel="prefetch" href="/assets/js/39.74b96b1a.js"><link rel="prefetch" href="/assets/js/4.dda20d7b.js"><link rel="prefetch" href="/assets/js/40.bf9a8a1e.js"><link rel="prefetch" href="/assets/js/41.2c5d26f5.js"><link rel="prefetch" href="/assets/js/42.029fa221.js"><link rel="prefetch" href="/assets/js/43.8f5d1319.js"><link rel="prefetch" href="/assets/js/44.84525bb6.js"><link rel="prefetch" href="/assets/js/45.44ded8a3.js"><link rel="prefetch" href="/assets/js/46.c37a17f5.js"><link rel="prefetch" href="/assets/js/47.4af73619.js"><link rel="prefetch" href="/assets/js/48.de965b8f.js"><link rel="prefetch" href="/assets/js/49.4cc50a9d.js"><link rel="prefetch" href="/assets/js/5.b38ef4db.js"><link rel="prefetch" href="/assets/js/50.8d9e604a.js"><link rel="prefetch" href="/assets/js/51.37da19a3.js"><link rel="prefetch" href="/assets/js/52.a3446c3a.js"><link rel="prefetch" href="/assets/js/53.6f8564f2.js"><link rel="prefetch" href="/assets/js/54.61f6294c.js"><link rel="prefetch" href="/assets/js/55.13e07aad.js"><link rel="prefetch" href="/assets/js/56.8867fe90.js"><link rel="prefetch" href="/assets/js/57.e55257f4.js"><link rel="prefetch" href="/assets/js/58.6fa822d6.js"><link rel="prefetch" href="/assets/js/59.6e329073.js"><link rel="prefetch" href="/assets/js/6.d24e8dfb.js"><link rel="prefetch" href="/assets/js/60.0ca372ae.js"><link rel="prefetch" href="/assets/js/61.35403f53.js"><link rel="prefetch" href="/assets/js/62.4ab8be6d.js"><link rel="prefetch" href="/assets/js/63.2e275df4.js"><link rel="prefetch" href="/assets/js/64.6790785c.js"><link rel="prefetch" href="/assets/js/65.dde7c8e4.js"><link rel="prefetch" href="/assets/js/66.cd7f8acb.js"><link rel="prefetch" href="/assets/js/7.ee16b613.js"><link rel="prefetch" href="/assets/js/8.71ca7b19.js"><link rel="prefetch" href="/assets/js/9.6dc304b9.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8e5f961b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/base/" class="nav-link">
  基础
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><span class="title">框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="框架" class="mobile-dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Vue
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/frame/vue/v3/" class="nav-link">
  v3
</a></li><li class="dropdown-subitem"><a href="/frame/vue/v2/" class="nav-link router-link-active">
  v2
</a></li><li class="dropdown-subitem"><a href="/frame/vue/vuex/" class="nav-link">
  Vuex
</a></li><li class="dropdown-subitem"><a href="/frame/vue/vue-router/" class="nav-link">
  VueRouter
</a></li></ul></li><li class="dropdown-item"><h4>
          React
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/frame/react/react/" class="nav-link">
  React
</a></li><li class="dropdown-subitem"><a href="/frame/react/react-router/" class="nav-link">
  ReactRouter
</a></li><li class="dropdown-subitem"><a href="/frame/react/redux/" class="nav-link">
  Redux
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="打包工具" class="dropdown-title"><span class="title">打包工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="打包工具" class="mobile-dropdown-title"><span class="title">打包工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Webpack
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/bundle-tool/webpack/v2.html" class="nav-link">
  v2
</a></li><li class="dropdown-subitem"><a href="/bundle-tool/webpack/v4.html" class="nav-link">
  v4
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/bundle-tool/rollup/" class="nav-link">
  Rollup
</a></li><li class="dropdown-item"><!----> <a href="/bundle-tool/gulp/" class="nav-link">
  Gulp
</a></li></ul></div></div><div class="nav-item"><a href="/share/" class="nav-link">
  分享
</a></div><div class="nav-item"><a href="https://gitee.com/luguanrui/lgr-tools?_from=gitee_search" target="_blank" rel="noopener noreferrer" class="nav-link external">
  工具函数
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/luguanrui?tab=repositories" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/base/" class="nav-link">
  基础
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><span class="title">框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="框架" class="mobile-dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Vue
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/frame/vue/v3/" class="nav-link">
  v3
</a></li><li class="dropdown-subitem"><a href="/frame/vue/v2/" class="nav-link router-link-active">
  v2
</a></li><li class="dropdown-subitem"><a href="/frame/vue/vuex/" class="nav-link">
  Vuex
</a></li><li class="dropdown-subitem"><a href="/frame/vue/vue-router/" class="nav-link">
  VueRouter
</a></li></ul></li><li class="dropdown-item"><h4>
          React
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/frame/react/react/" class="nav-link">
  React
</a></li><li class="dropdown-subitem"><a href="/frame/react/react-router/" class="nav-link">
  ReactRouter
</a></li><li class="dropdown-subitem"><a href="/frame/react/redux/" class="nav-link">
  Redux
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="打包工具" class="dropdown-title"><span class="title">打包工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="打包工具" class="mobile-dropdown-title"><span class="title">打包工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Webpack
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/bundle-tool/webpack/v2.html" class="nav-link">
  v2
</a></li><li class="dropdown-subitem"><a href="/bundle-tool/webpack/v4.html" class="nav-link">
  v4
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/bundle-tool/rollup/" class="nav-link">
  Rollup
</a></li><li class="dropdown-item"><!----> <a href="/bundle-tool/gulp/" class="nav-link">
  Gulp
</a></li></ul></div></div><div class="nav-item"><a href="/share/" class="nav-link">
  分享
</a></div><div class="nav-item"><a href="https://gitee.com/luguanrui/lgr-tools?_from=gitee_search" target="_blank" rel="noopener noreferrer" class="nav-link external">
  工具函数
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/luguanrui?tab=repositories" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/frame/vue/v2/" aria-current="page" class="sidebar-link">目录</a></li><li><a href="/frame/vue/v2/reactive.html" class="sidebar-link">响应式原理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frame/vue/v2/reactive.html#observe类观察者" class="sidebar-link">Observe类观察者</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/reactive.html#dep类纽带" class="sidebar-link">Dep类纽带</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/reactive.html#watcher类订阅者" class="sidebar-link">Watcher类订阅者</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/reactive.html#三者关系图" class="sidebar-link">三者关系图</a></li></ul></li><li><a href="/frame/vue/v2/render.html" class="sidebar-link">渲染</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frame/vue/v2/render.html#模板编译" class="sidebar-link">模板编译</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frame/vue/v2/render.html#js的with语法" class="sidebar-link">js的with语法</a></li></ul></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/render.html#描述vue组件是如何渲染和更新过程" class="sidebar-link">描述vue组件是如何渲染和更新过程</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/render.html#虚拟dom" class="sidebar-link">虚拟DOM</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frame/vue/v2/render.html#什么是虚拟dom" class="sidebar-link">什么是虚拟DOM</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/render.html#什么是-diff-算法" class="sidebar-link">什么是 diff 算法</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/render.html#再说一下虚拟dom以及key属性的作用" class="sidebar-link">再说一下虚拟Dom以及key属性的作用</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/render.html#vue2-x和vue3-x渲染器的diff算法分别说一下" class="sidebar-link">Vue2.x和Vue3.x渲染器的diff算法分别说一下</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/render.html#实现一个虚拟dom" class="sidebar-link">实现一个虚拟DOM</a></li></ul></li></ul></li><li><a href="/frame/vue/v2/extend.html" aria-current="page" class="active sidebar-link">扩展</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frame/vue/v2/extend.html#mvvm" class="sidebar-link">MVVM</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frame/vue/v2/extend.html#什么是mvvm" class="sidebar-link">什么是MVVM</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/extend.html#mvvm的特点" class="sidebar-link">MVVM的特点</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/extend.html#如何实现mvvm" class="sidebar-link">如何实现MVVM</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/extend.html#阐述你所理解的mvvm响应式原理" class="sidebar-link">阐述你所理解的MVVM响应式原理</a></li></ul></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/extend.html#监测数组的时候如何防止触发多次get-set" class="sidebar-link">监测数组的时候如何防止触发多次get/set</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/extend.html#vue2-x中如何监测数组变化" class="sidebar-link">vue2.x中如何监测数组变化</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/extend.html#vue为什么采用异步渲染" class="sidebar-link">vue为什么采用异步渲染</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/extend.html#生命周期" class="sidebar-link">生命周期</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/extend.html#父子组件的渲染过程" class="sidebar-link">父子组件的渲染过程</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/extend.html#父子组件的更新过程" class="sidebar-link">父子组件的更新过程</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/extend.html#父子组件的销毁过程" class="sidebar-link">父子组件的销毁过程</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/extend.html#keep-alive的作用" class="sidebar-link">keep-alive的作用</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/extend.html#keep-alive的生命周期钩子" class="sidebar-link">keep-alive的生命周期钩子</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/extend.html#v-if和v-show的区别" class="sidebar-link">v-if和v-show的区别</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/extend.html#computed与watch的区别" class="sidebar-link">computed与watch的区别</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/extend.html#mixins" class="sidebar-link">mixins</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/extend.html#vue2-x数据绑定与响应式数据原理" class="sidebar-link">Vue2.x数据绑定与响应式数据原理</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/extend.html#vue3-x响应式数据原理" class="sidebar-link">Vue3.x响应式数据原理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frame/vue/v2/extend.html#object-defineproperty" class="sidebar-link">Object.defineProperty()</a></li></ul></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/extend.html#proxy只会代理对象的第一层-那么vue3又是怎样处理这个问题的" class="sidebar-link">Proxy只会代理对象的第一层，那么Vue3又是怎样处理这个问题的</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/extend.html#实现a-1-a-2-a-3返回true" class="sidebar-link">实现a===1 &amp;&amp; a===2 &amp;&amp; a===3返回true</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/extend.html#组件通信" class="sidebar-link">组件通信</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/extend.html#如何将组件所有的props传递给子组件" class="sidebar-link">如何将组件所有的props传递给子组件</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/extend.html#vue-loader是什么-使用它的用途有哪些" class="sidebar-link">vue-loader是什么？使用它的用途有哪些</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/extend.html#vue-nexttick" class="sidebar-link">Vue.nextTick()</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/extend.html#在vue渲染模板时-如何才能保留模板中的html注释" class="sidebar-link">在Vue渲染模板时，如何才能保留模板中的HTML注释</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/extend.html#在vue中-当数据对象的属性和methods选项中的方法同名时-会怎么样" class="sidebar-link">在Vue中，当数据对象的属性和methods选项中的方法同名时，会怎么样</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/extend.html#为什么要避免同时使用v-for和v-if两条指令" class="sidebar-link">为什么要避免同时使用v-for和v-if两条指令</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/extend.html#如何自定义vue的指令" class="sidebar-link">如何自定义Vue的指令</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/extend.html#vue中use的原理" class="sidebar-link">vue中use的原理</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/extend.html#vue中元素的key特性有什么作用" class="sidebar-link">Vue中元素的key特性有什么作用</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/extend.html#请列举你所知的v-on指令的修饰符" class="sidebar-link">请列举你所知的v-on指令的修饰符</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/extend.html#v-model指令提供了哪些修饰符" class="sidebar-link">v-model指令提供了哪些修饰符</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/extend.html#native修饰符有什么作用" class="sidebar-link">.native修饰符有什么作用</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/extend.html#sync修饰符有什么作用" class="sidebar-link">.sync修饰符有什么作用</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/extend.html#class可接收哪几种类型的值" class="sidebar-link">class可接收哪几种类型的值</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/extend.html#style可接收哪几种类型的值" class="sidebar-link">style可接收哪几种类型的值</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/extend.html#什么是vue的单文件组件" class="sidebar-link">什么是Vue的单文件组件</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/extend.html#vue-extend-方法有什么作用" class="sidebar-link">Vue.extend()方法有什么作用</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/extend.html#在vue中-组件的命名方式有哪些" class="sidebar-link">在Vue中，组件的命名方式有哪些</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/extend.html#组件的props能校验哪些值类型" class="sidebar-link">组件的props能校验哪些值类型</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/extend.html#在vue中-如何能直接访问父组件、子组件和根实例" class="sidebar-link">在Vue中，如何能直接访问父组件、子组件和根实例</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/extend.html#vue中的ref和-refs有什么作用" class="sidebar-link">Vue中的ref和$refs有什么作用</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/extend.html#请谈谈你对slot元素的理解" class="sidebar-link">请谈谈你对slot元素的理解</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/extend.html#如何理解vue的函数式组件" class="sidebar-link">如何理解Vue的函数式组件</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/extend.html#组件中的data为什么是一个函数" class="sidebar-link">组件中的data为什么是一个函数</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/extend.html#说一下v-model的原理" class="sidebar-link">说一下v-model的原理</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/extend.html#自己实现一个v-model" class="sidebar-link">自己实现一个v-model</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/extend.html#vue事件绑定原理" class="sidebar-link">Vue事件绑定原理</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/extend.html#什么时候使用异步组件" class="sidebar-link">什么时候使用异步组件</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/extend.html#何时使用beforedestory" class="sidebar-link">何时使用beforeDestory</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/extend.html#vue模版编译原理" class="sidebar-link">Vue模版编译原理</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/extend.html#ssr-serve-side-render" class="sidebar-link">SSR(Serve Side Render)</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/extend.html#vue的性能优化" class="sidebar-link">Vue的性能优化</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/extend.html#手写代码-实现vue的数据劫持" class="sidebar-link">手写代码，实现vue的数据劫持</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/extend.html#父组件监听到子组件的生命周期" class="sidebar-link">父组件监听到子组件的生命周期</a></li><li class="sidebar-sub-header"><a href="/frame/vue/v2/extend.html#怎么给vue定义全局方法" class="sidebar-link">怎么给vue定义全局方法</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="扩展"><a href="#扩展" class="header-anchor">#</a> 扩展</h1> <h2 id="mvvm"><a href="#mvvm" class="header-anchor">#</a> MVVM</h2> <p><img src="/assets/img/mvvm.068659fe.png" alt=""></p> <h3 id="什么是mvvm"><a href="#什么是mvvm" class="header-anchor">#</a> 什么是MVVM</h3> <p>MVVM是<code>Model-View-ViewModel</code>缩写，也就是把<code>MVC</code>中的<code>Controller</code>演变成<code>ViewModel</code>,即双向数据绑定</p> <ul><li>Model【模型】层代表数据模型，即 纯js对象</li> <li>View【视图】代表UI组件，即 DOM</li> <li>ViewModel【视图模型】是View和Model层的桥梁,在vue中指 Vue,包括<code>DOM事件的监听</code>以及<code>数据的绑定</code></li></ul> <h3 id="mvvm的特点"><a href="#mvvm的特点" class="header-anchor">#</a> MVVM的特点</h3> <ul><li>视图变化，更新数据（DOM事件的监听）</li> <li>数据变化，更新视图（数据的绑定）</li></ul> <p>总结：在MVVM的框架下，<code>View</code>和<code>Model</code>是不能直接通信的。它们通过<code>ViewModel</code>来通信，<code>ViewModel</code>通常要实现一个<code>observer</code>观察者，当数据发生变化，<code>ViewModel</code>能够监听到数据的这种变化，然后通知到对应的视图做自动更新，而当用户操作视图，<code>ViewModel</code>也能监听到视图的变化，然后通知数据做改动，这实际上就实现了数据的双向绑定。</p> <h3 id="如何实现mvvm"><a href="#如何实现mvvm" class="header-anchor">#</a> 如何实现MVVM</h3> <h3 id="阐述你所理解的mvvm响应式原理"><a href="#阐述你所理解的mvvm响应式原理" class="header-anchor">#</a> 阐述你所理解的MVVM响应式原理</h3> <p><img src="data:image/png;base64,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" alt="vue-mvvm"></p> <p>vue采用数据劫持，配合发布-订阅者模式的方式，通过Object.defineProperty()来劫持各个属性的getter和setter，在数据变动时，发布消息给依赖收集器，去通知观察者，做出对应的回调函数，去更新试图。</p> <p>MVVM作为绑定的入口，整合Observer，Compile和Watcher三者，通过Observer来监听model数据变化，通过Compile来解析模板指令，最终通过Watcher搭起了Observer和Compile之间的通信桥梁，达到数据变化 =&gt; 数据更新，视图交互变化 =&gt; 数据model变更的双向绑定效果</p> <h2 id="监测数组的时候如何防止触发多次get-set"><a href="#监测数组的时候如何防止触发多次get-set" class="header-anchor">#</a> 监测数组的时候如何防止触发多次get/set</h2> <p>我们可以判断<code>key</code>是否为当前被代理对象<code>target</code>自身属性，也可以判断<code>旧值与新值</code>是否相等，只有满足以上两个条件之一时，才有可能执行<code>trigger</code></p> <h2 id="vue2-x中如何监测数组变化"><a href="#vue2-x中如何监测数组变化" class="header-anchor">#</a> vue2.x中如何监测数组变化</h2> <p><img src="/assets/img/vue-array.c86fe4db.png" alt=""></p> <p>使用了函数劫持的方式，<code>重写了数组的方法</code>，Vue将data中的数组进行了原型链重写，指向了自己定义的数组原型方法，包含如下方法：</p> <ul><li>push</li> <li>pop</li> <li>shift</li> <li>unshift</li> <li>splice</li> <li>sort</li> <li>reverse</li></ul> <p>这样当调用数组api时，可以通知依赖更新。如果数组中包含着引用类型，会对数组中的引用类型再次递归遍历进行监控。这样就实现了监测数组变化</p> <h2 id="vue为什么采用异步渲染"><a href="#vue为什么采用异步渲染" class="header-anchor">#</a> vue为什么采用异步渲染</h2> <p>因为不采用异步渲染，那么每次更新数据都会对当前组件进行重新渲染，所以为了性能考虑，vue会在本轮数据更新后，再去更新试图</p> <h2 id="生命周期"><a href="#生命周期" class="header-anchor">#</a> 生命周期</h2> <p>生命周期图：</p> <p><img src="/assets/img/vue-lifecycle.b3251a15.png" alt=""></p> <p>8个阶段：Vue 实例的创建到组件销毁的一个的过程</p> <ul><li>创建前/后：beforeCreate/created</li> <li>挂载前/后：beforeMount/mounted</li> <li>更新前/后：beforeUpdate/updated</li> <li>销毁前/后：beforeDestory/destoryed</li></ul> <p>描述：</p> <p><img src="/assets/img/vue-lifecycle2.59365b34.jpeg" alt=""></p> <p>组件加载渲染过程：<strong>beforeCreate--&gt;created--&gt;beforeMount--&gt;mounted</strong></p> <h2 id="父子组件的渲染过程"><a href="#父子组件的渲染过程" class="header-anchor">#</a> 父子组件的渲染过程</h2> <p>父子组件加载渲染过程：（子组件先走mounted,父组件在mounted）:</p> <p><strong>父级beforeCreate--&gt;父级created--&gt;父级beforeMount</strong>--&gt;子级beforeCreate-&gt;子级created--&gt;子级beforeMount--&gt;子级mounted--&gt;<strong>父级mounted</strong></p> <h2 id="父子组件的更新过程"><a href="#父子组件的更新过程" class="header-anchor">#</a> 父子组件的更新过程</h2> <p>父子组件更新过程：（子级先updated,父级再updated）:</p> <p><strong>父级beforeUpdate</strong>--&gt;子级beforeUpdate--&gt;子级updated--&gt;<strong>父级updated</strong></p> <h2 id="父子组件的销毁过程"><a href="#父子组件的销毁过程" class="header-anchor">#</a> 父子组件的销毁过程</h2> <p>销毁过程：（子级先destoryed,父级再destoryed）：</p> <p><strong>父级beforeDestory</strong>--&gt;子级beforeDestory--&gt;子级destoryed--&gt;<strong>父级destoryed</strong></p> <h2 id="keep-alive的作用"><a href="#keep-alive的作用" class="header-anchor">#</a> keep-alive的作用</h2> <ul><li>keep-alive可以实现<code>组件缓存</code>，当组件切换时不会对当前组件进行卸载。</li> <li>常用的两个属性<code>include</code>/<code>exclude</code>，允许组件有条件的进行缓存。</li> <li>两个生命周期<code>activated</code>/<code>deactivated</code>，用来得知当前组件是否处于活跃状态。</li> <li>keep-alive的中还运用了LRU(Least Recently Used)算法。</li></ul> <h2 id="keep-alive的生命周期钩子"><a href="#keep-alive的生命周期钩子" class="header-anchor">#</a> keep-alive的生命周期钩子</h2> <p>1.activated：当组件激活时，钩子触发的顺序是<code>created-&gt;mounted-&gt;activated</code></p> <p>2.deactivated: 组件停用时会触发deactivated，当再次前进或者后退的时候只触发activated</p> <p>页面第一次进入，钩子的触发顺序<code>created-&gt; mounted-&gt; activated</code>，退出时触发deactivated。当再次进入（前进或者后退）时，只触发<code>activated</code></p> <h2 id="v-if和v-show的区别"><a href="#v-if和v-show的区别" class="header-anchor">#</a> v-if和v-show的区别</h2> <ul><li>v-show通过CSS display来控制显示和隐藏</li> <li>v-if是组件真的渲染和销毁，而不是显示和隐藏</li> <li>频繁切换显示状态用v-show</li></ul> <h2 id="computed与watch的区别"><a href="#computed与watch的区别" class="header-anchor">#</a> computed与watch的区别</h2> <ol><li>computed本质是一个<code>具备缓存的watcher</code>，依赖的属性发生变化就会更新视图，并且计算属性默认只有<code>getter</code>，不过在需要时你也可以提供一个 <code>setter</code></li></ol> <p>适用于场景：</p> <ul><li>计算比较消耗性能的计算场景</li> <li>当表达式过于复杂时，在模板中放入过多逻辑会让模板难以维护，可以将复杂的逻辑放入计算属性中处理。</li></ul> <ol start="2"><li>watch没有缓存性，更多的是观察的作用，可以监听某些数据执行回调。当我们需要深度监听对象中的属性时，可以打开<code>deep：true</code>选项，这样便会对对象中的每一项进行监听。这样会带来性能问题，优化的话可以使用字符串形式监听，如果没有写到组件中，不要忘记使用unWatch手动注销</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>watch<span class="token operator">:</span> <span class="token punctuation">{</span>
obj<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token function">handler</span><span class="token punctuation">(</span><span class="token parameter">val<span class="token punctuation">,</span> oldValue</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  deep<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 深度监听</span>
  immediate<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// 立即调用</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="mixins"><a href="#mixins" class="header-anchor">#</a> mixins</h2> <ul><li>多个组件有相同的逻辑，抽离出来</li> <li>mixins有一些问题，后面vue3.0提出<code>composition api</code>来解决这些问题</li></ul> <p>问题：</p> <ul><li>来源不明确，不利于代码的阅读，如果有个mixins和自动合并</li> <li>多个mixins会造成命名冲突</li> <li>mixin和组件可能出现多对多的关系，复杂度较高</li></ul> <h2 id="vue2-x数据绑定与响应式数据原理"><a href="#vue2-x数据绑定与响应式数据原理" class="header-anchor">#</a> Vue2.x数据绑定与响应式数据原理</h2> <p><img src="/assets/img/vue-obj.15148d4e.png" alt=""></p> <ul><li>监听data变化</li> <li>组件渲染和更新的流程</li></ul> <p>Vue在初始化数据时，会使用<code>Object.defineProperty</code>重新定义data中的所有属性，当页面使用对应属性时，首先会进行<code>依赖收集</code>(收集当前组件的watcher)，如果属性发生变化会通知相关依赖进行更新操作(<code>发布订阅</code>)</p> <p>采用<code>数据劫持</code>结合<code>发布者-订阅者模式</code>的方式，通过<code>Object.defineProperty()</code>来劫持各个属性的<code>setter</code>，<code>getter</code>，在数据变动时发布消息给订阅者，触发相应的监听回调</p> <p>具体步骤：</p> <ol><li><p>需要observe的数据对象进行递归遍历，包括子属性对象的属性，都加上 setter和getter
这样的话，给这个对象的某个值赋值，就会触发setter，那么就能监听到了数据变化</p></li> <li><p>compile解析模板指令，将模板中的变量替换成数据，然后初始化渲染页面视图，并将每个指令对应的节点绑定更新函数，添加监听数据的订阅者，一旦数据有变动，收到通知，更新视图</p></li> <li><p>Watcher订阅者是Observer和Compile之间通信的桥梁，主要做的事情是:
1、在自身实例化时往属性订阅器(dep)里面添加自己
2、自身必须有一个update()方法
3、待属性变动dep.notice()通知时，能调用自身的update()方法，并触发Compile中绑定的回调，则功成身退。</p></li> <li><p>MVVM作为数据绑定的入口，整合Observer、Compile和Watcher三者，通过Observer来监听自己的model数据变化，通过Compile来解析编译模板指令，最终利用Watcher搭起Observer和Compile之间的通信桥梁，达到数据变化 -&gt; 视图更新；视图交互变化(input) -&gt; 数据model变更的双向绑定效果。</p></li></ol> <h2 id="vue3-x响应式数据原理"><a href="#vue3-x响应式数据原理" class="header-anchor">#</a> Vue3.x响应式数据原理</h2> <p>Vue3.x改用<code>Proxy</code>替代<code>Object.defineProperty</code>。因为<code>Proxy</code>可以直接监听对象和数组的变化，并且有多达13种拦截方法。并且作为新标准将受到浏览器厂商重点持续的性能优化</p> <h3 id="object-defineproperty"><a href="#object-defineproperty" class="header-anchor">#</a> Object.defineProperty()</h3> <p>缺点：</p> <ul><li>无法检测到对象属性的新增或删除，解决方案：Vue.set(obj, propertName/index, value),Vue.delete()</li> <li>不能监听数组的变化，因此vue重写了数组操作的方法，比如push，pop，shift，unshift，splice，sort，reverse</li></ul> <p>Proxy是ES6提供的一个新的API，用于修改某些操作的默认行为</p> <ul><li>Proxy直接代理整个对象而非对象属性</li> <li>Proxy也可以监听数组的变化</li></ul> <h2 id="proxy只会代理对象的第一层-那么vue3又是怎样处理这个问题的"><a href="#proxy只会代理对象的第一层-那么vue3又是怎样处理这个问题的" class="header-anchor">#</a> Proxy只会代理对象的第一层，那么Vue3又是怎样处理这个问题的</h2> <p>判断当前<code>Reflect.get</code>的返回值是否为<code>Object</code>，如果是则再通过<code>reactive</code>方法做代理， 这样就实现了<code>深度观测</code></p> <h2 id="实现a-1-a-2-a-3返回true"><a href="#实现a-1-a-2-a-3返回true" class="header-anchor">#</a> 实现a===1 &amp;&amp; a===2 &amp;&amp; a===3返回true</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span>  _a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
    <span class="token function-variable function">get</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> _a<span class="token operator">++</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token operator">===</span><span class="token number">1</span> <span class="token operator">&amp;&amp;</span> a<span class="token operator">===</span><span class="token number">2</span> <span class="token operator">&amp;&amp;</span> a<span class="token operator">===</span><span class="token number">3</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="组件通信"><a href="#组件通信" class="header-anchor">#</a> 组件通信</h2> <p>父子组件通信</p> <table><thead><tr><th>方式</th> <th>api</th></tr></thead> <tbody><tr><td>父传子</td> <td>props</td></tr> <tr><td>子传父</td> <td>$on、$emit</td></tr> <tr><td>获取父子组件实例</td> <td>$parent、$children</td></tr> <tr><td>获取实例的方式调用组件的属性或者方法</td> <td>$ref</td></tr> <tr><td>官方不推荐使用，但是写组件库时很常用</td> <td>provide,inject</td></tr></tbody></table> <p>兄弟组件通信</p> <table><thead><tr><th>方式</th> <th>api</th></tr></thead> <tbody><tr><td>Event Bus</td> <td>实现跨组件通信 <code>Vue.prototype.$bus = new Vue()</code></td></tr> <tr><td>vuex</td> <td></td></tr></tbody></table> <p>跨级组件通信</p> <table><thead><tr><th>方式</th> <th>api</th></tr></thead> <tbody><tr><td>vuex</td> <td></td></tr> <tr><td>$attrs、$listeners</td> <td></td></tr> <tr><td>provide、inject</td> <td></td></tr></tbody></table> <h2 id="如何将组件所有的props传递给子组件"><a href="#如何将组件所有的props传递给子组件" class="header-anchor">#</a> 如何将组件所有的props传递给子组件</h2> <ul><li>通过$props</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>User v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">&quot;$props&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></div><h2 id="vue-loader是什么-使用它的用途有哪些"><a href="#vue-loader是什么-使用它的用途有哪些" class="header-anchor">#</a> vue-loader是什么？使用它的用途有哪些</h2> <p>解析<code>.vue</code>文件的一个加载器，将template/js/style转换成js模块。</p> <p>用途：js可以写es6、style样式可以scss或less、template可以加jade等</p> <h2 id="vue-nexttick"><a href="#vue-nexttick" class="header-anchor">#</a> Vue.nextTick()</h2> <p>在<code>下次 DOM 更新循环结束之后</code>执行<code>延迟回调</code>（简单的理解是：当数据更新了，在DOM中渲染后，自动执行该函数）。nextTick主要使用了<code>宏任务</code>和<code>微任务</code>。根据执行环境分别尝试采用：</p> <ul><li>Promise</li> <li>MutationObserver</li> <li>setImmediate</li> <li>如果以上都不行则采用setTimeout</li></ul> <p>定义了一个异步方法，多次调用nextTick会将方法存入队列中，通过这个异步方法清空当前队列</p> <p>使用场景：</p> <ol><li>在<code>created钩子函数</code>中使用，因为此时DOM并未渲染</li> <li>更改数据后当你想<code>立即使用js操作新的视图</code>的时候需要使用它</li></ol> <p>原理：</p> <p>Vue是异步执行DOM更新的，一旦观察到数据变化，Vue就会开启一个队列，然后把在同一个事件循环 (event loop) 当中观察到数据变化的 watcher 推送进这个队列。如果这个watcher被触发多次，只会被推送到队列一次。这种缓冲行为可以有效的去掉重复数据造成的不必要的计算和DOM操作。而在下一个事件循环时，Vue会清空队列，并进行必要的DOM更新</p> <h2 id="在vue渲染模板时-如何才能保留模板中的html注释"><a href="#在vue渲染模板时-如何才能保留模板中的html注释" class="header-anchor">#</a> 在Vue渲染模板时，如何才能保留模板中的HTML注释</h2> <p><code>comments</code>当设为 <code>true</code></p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">comments</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--这里是注释--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="在vue中-当数据对象的属性和methods选项中的方法同名时-会怎么样"><a href="#在vue中-当数据对象的属性和methods选项中的方法同名时-会怎么样" class="header-anchor">#</a> 在Vue中，当数据对象的属性和methods选项中的方法同名时，会怎么样</h2> <p>会报错。名字不能重复</p> <h2 id="为什么要避免同时使用v-for和v-if两条指令"><a href="#为什么要避免同时使用v-for和v-if两条指令" class="header-anchor">#</a> 为什么要避免同时使用v-for和v-if两条指令</h2> <p>v-for比v-if的优先级高，一般会采用computed计算属性</p> <h2 id="如何自定义vue的指令"><a href="#如何自定义vue的指令" class="header-anchor">#</a> 如何自定义Vue的指令</h2> <p>声明自定义指令的两种方式：</p> <ol><li>全局</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> Opt <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">bind</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span>binding<span class="token punctuation">,</span>vnode</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">inserted</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span>binding<span class="token punctuation">,</span>vnode</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">update</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span>binding<span class="token punctuation">,</span>vnode</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">componentUpdated</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span>binding<span class="token punctuation">,</span>vnode</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">unbind</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span>binding<span class="token punctuation">,</span>vnode</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
Vue<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">'指令名称'</span><span class="token punctuation">,</span> Opt<span class="token punctuation">)</span>
</code></pre></div><ol start="2"><li>局部：钩子函数directives中进行声明</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>Directives<span class="token operator">:</span> <span class="token punctuation">{</span>
 Demo<span class="token operator">:</span>  Opt
<span class="token punctuation">}</span>
</code></pre></div><h2 id="vue中use的原理"><a href="#vue中use的原理" class="header-anchor">#</a> vue中use的原理</h2> <h2 id="vue中元素的key特性有什么作用"><a href="#vue中元素的key特性有什么作用" class="header-anchor">#</a> Vue中元素的key特性有什么作用</h2> <ul><li><p>必须使用key，且不能使用index和random</p></li> <li><p>diff算法中通过tag和ket来判断，是否是相同的dom</p></li> <li><p>好处是减少渲染次数，提升渲染性能</p></li> <li><p>diff算法，就地复用</p></li></ul> <ol><li>key能够决定节点是否应该被<code>删除</code>、<code>添加</code>、<code>修改</code>，当节点被<code>删除</code>、<code>添加</code>时，会发生以下事件:
<ul><li>完整地触发组件的生命周期钩子</li> <li>触发过渡</li></ul></li> <li>对比两个子节点数组时，建立 key-index映射代替遍历查找 sameNode,提高性能</li></ol> <h2 id="请列举你所知的v-on指令的修饰符"><a href="#请列举你所知的v-on指令的修饰符" class="header-anchor">#</a> 请列举你所知的v-on指令的修饰符</h2> <ul><li>.stop：阻止事件冒泡</li> <li>.prevent：阻止默认事件</li> <li>.capture：把默认的冒泡变为捕获</li> <li>.self：只当事件是从侦听器绑定的元素本身触发时才触发回调（比如：冒泡时，如果不是点击该元素不会触发他的click事件）</li> <li>.{keyCode | keyAlias}：用特定按键触发事件</li> <li>.native：监听组件根元素的原生事件</li> <li>.once：只触发一次回调</li> <li>.left | .middle | .right：鼠标的左键 中键 右键触发的事件</li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">v-on:</span>mousedown.left</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>myfn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>AAA<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">v-on:</span>mousedown.middle</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>myfn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>BBB<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">v-on:</span>mousedown.right</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>myfn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>CCC<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li>.passive</li></ul> <h2 id="v-model指令提供了哪些修饰符"><a href="#v-model指令提供了哪些修饰符" class="header-anchor">#</a> v-model指令提供了哪些修饰符</h2> <ul><li>.lazy：懒加载修饰符</li> <li>.number：转为数字类型</li> <li>.trim：过滤首尾空格</li></ul> <h2 id="native修饰符有什么作用"><a href="#native修饰符有什么作用" class="header-anchor">#</a> .native修饰符有什么作用</h2> <p>作用就是把一个vue组件转化为一个普通的HTML标签，并且该修饰符对普通HTML标签是没有任何作用的。</p> <h2 id="sync修饰符有什么作用"><a href="#sync修饰符有什么作用" class="header-anchor">#</a> .sync修饰符有什么作用</h2> <p>对prop进行“双向绑定”，使得子组件可以修改父组件的数据</p> <h2 id="class可接收哪几种类型的值"><a href="#class可接收哪几种类型的值" class="header-anchor">#</a> class可接收哪几种类型的值</h2> <p>对象:</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>static<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ active: isActive, <span class="token punctuation">'</span>text-danger<span class="token punctuation">'</span>: hasError }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>数组:</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>[isActive ? activeClass : <span class="token punctuation">'</span><span class="token punctuation">'</span>, errorClass]<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 或者数组中写对象 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>[{ active: isActive }, errorClass]<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="style可接收哪几种类型的值"><a href="#style可接收哪几种类型的值" class="header-anchor">#</a> style可接收哪几种类型的值</h2> <p>对象：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:</span><span class="token style-attr language-css"><span class="token attr-name"><span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value">styleObject</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>data<span class="token operator">:</span> <span class="token punctuation">{</span>
  styleObject<span class="token operator">:</span> <span class="token punctuation">{</span>
    color<span class="token operator">:</span> <span class="token string">'red'</span><span class="token punctuation">,</span>
    fontSize<span class="token operator">:</span> <span class="token string">'13px'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>数组:</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">v-bind:</span></span><span class="token style-attr language-css"><span class="token attr-name"><span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value">[baseStyles<span class="token punctuation">,</span> overridingStyles]</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>data<span class="token operator">:</span> <span class="token punctuation">{</span>
  baseStyles<span class="token operator">:</span> <span class="token punctuation">{</span>
    color<span class="token operator">:</span> <span class="token string">'red'</span><span class="token punctuation">,</span>
    fontSize<span class="token operator">:</span> <span class="token string">'13px'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  overridingStyles<span class="token operator">:</span> <span class="token punctuation">{</span>
    color<span class="token operator">:</span> <span class="token string">'red'</span><span class="token punctuation">,</span>
    fontSize<span class="token operator">:</span> <span class="token string">'13px'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="什么是vue的单文件组件"><a href="#什么是vue的单文件组件" class="header-anchor">#</a> 什么是Vue的单文件组件</h2> <p>vuejs 自定义了一种.vue文件，可以把html, css, js 写到一个文件中，从而实现了对一个组件的封装， 一个.vue 文件就是一个单独的组件。</p> <h2 id="vue-extend-方法有什么作用"><a href="#vue-extend-方法有什么作用" class="header-anchor">#</a> Vue.extend()方法有什么作用</h2> <p>extend是vue提供的一个全局方法，使用基础 Vue 构造器，创建一个“子类”。参数是一个包含组件选项的对象。</p> <h2 id="在vue中-组件的命名方式有哪些"><a href="#在vue中-组件的命名方式有哪些" class="header-anchor">#</a> 在Vue中，组件的命名方式有哪些</h2> <ul><li>短横线分割命名：component-name</li> <li>驼峰命名: componentName</li> <li>帕斯卡命名: ComponentName</li></ul> <h2 id="组件的props能校验哪些值类型"><a href="#组件的props能校验哪些值类型" class="header-anchor">#</a> 组件的props能校验哪些值类型</h2> <ul><li>String</li> <li>Number</li> <li>Boolean</li> <li>Array</li> <li>Object</li> <li>Date</li> <li>Function</li> <li>Symbol</li></ul> <h2 id="在vue中-如何能直接访问父组件、子组件和根实例"><a href="#在vue中-如何能直接访问父组件、子组件和根实例" class="header-anchor">#</a> 在Vue中，如何能直接访问父组件、子组件和根实例</h2> <p>访问父组件<code>$parent</code>,访问子组件<code>$children</code>,访问根实例<code>$root</code></p> <h2 id="vue中的ref和-refs有什么作用"><a href="#vue中的ref和-refs有什么作用" class="header-anchor">#</a> Vue中的<code>ref</code>和<code>$refs</code>有什么作用</h2> <p>ref 被用来给元素或子组件注册引用信息。引用信息将会注册在父组件的 $refs 对象上。如果在普通的 DOM 元素上使用，引用指向的就是 DOM 元素</p> <h2 id="请谈谈你对slot元素的理解"><a href="#请谈谈你对slot元素的理解" class="header-anchor">#</a> 请谈谈你对slot元素的理解</h2> <p>slot插槽，分为匿名插槽，具名插槽，作用域插槽：</p> <table><thead><tr><th>slot</th> <th>说明</th></tr></thead> <tbody><tr><td><div style="width:90px;">匿名插槽</div></td> <td>无name属性，在组件中只可以使用一次，父组件提供样式和内容</td></tr> <tr><td>具名插槽</td> <td>有name属性，在组件中可以用多次，父组件可以通过html模板上slot关联具名插槽</td></tr> <tr><td>作用域插槽</td> <td>父组件提供样式，子组件提供提供内容，在slot上绑定数据，子组件的值可以传给父组件使用，父组件展示子组件有三种，flex显示，列表显示，直接显示，使用slot-scope必须使用template。scope返回值是slot标签上放回所有属性值，并且是一个对象形式保存起来的，slot有两个属性，一个row，一个index</td></tr></tbody></table> <h2 id="如何理解vue的函数式组件"><a href="#如何理解vue的函数式组件" class="header-anchor">#</a> 如何理解Vue的函数式组件</h2> <p>函数式组件特点：</p> <ul><li>没有管理任何状态</li> <li>没有监听任何传递给它的状态</li> <li>没有生命周期方法</li> <li>它只是接收一些prop的函</li></ul> <p>我们将这样的组件标记为functional：</p> <ul><li>无状态 == 无响应式数据</li> <li>无实例 == 无this上下文</li></ul> <p>函数式组件的优点：</p> <ul><li>渲染开销低，因为函数式组件只是函数</li></ul> <h2 id="组件中的data为什么是一个函数"><a href="#组件中的data为什么是一个函数" class="header-anchor">#</a> 组件中的data为什么是一个函数</h2> <p>一个组件被复用多次的话，也就会创建多个实例。本质上，这些实例用的都是同一个构造函数。如果data是对象的话，对象属于引用类型，会影响到所有的实例。所以为了保证组件不同的实例之间data不冲突，data必须是一个函数</p> <h2 id="说一下v-model的原理"><a href="#说一下v-model的原理" class="header-anchor">#</a> 说一下v-model的原理</h2> <ul><li>input元素的value = this.name</li> <li>绑定input事件this.name = $event.target.value</li> <li>data更新触发re-render</li></ul> <p>v-model本质就是一个语法糖，可以看成是value + input方法的语法糖。 可以通过model属性的prop和event属性来进行自定义。原生的v-model，会根据标签的不同生成不同的事件和属性。</p> <p>v-model会把它关联的响应式数据，动态地绑定到表单元素的value属性上，然后监听表单元素的input事件：当v-model绑定的响应数据发生变化时，表单元素的value值也会同步变化；当表单元素接受用户的输入时，input事件会触发，input的回调逻辑会把表单元素value最新值同步赋值给v-model绑定的响应式数据。</p> <p><a href="https://segmentfault.com/a/1190000021039085?utm_source=tag-newest#item-4-1" target="_blank" rel="noopener noreferrer">参考<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="自己实现一个v-model"><a href="#自己实现一个v-model" class="header-anchor">#</a> 自己实现一个v-model</h2> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@input</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$emit(<span class="token punctuation">'</span>change<span class="token punctuation">'</span>, $event.target,value)<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token comment">&lt;!-- 
    1. :value而不是v-model
    2. change和model.event对应起来即可
   --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  model<span class="token operator">:</span> <span class="token punctuation">{</span>
    prop<span class="token operator">:</span> <span class="token string">'text'</span><span class="token punctuation">,</span> <span class="token comment">// 对应到 props text</span>
    event<span class="token operator">:</span> <span class="token string">'change'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  props<span class="token operator">:</span> <span class="token punctuation">{</span>
    text<span class="token operator">:</span> String
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="vue事件绑定原理"><a href="#vue事件绑定原理" class="header-anchor">#</a> Vue事件绑定原理</h2> <p>原生事件绑定是通过<code>addEventListener</code>绑定给真实元素的，组件事件绑定是通过Vue自定义的<code>$on</code>实现的。</p> <h2 id="什么时候使用异步组件"><a href="#什么时候使用异步组件" class="header-anchor">#</a> 什么时候使用异步组件</h2> <ul><li>加载比较大的组件，比如echart</li> <li>路由异步加载</li></ul> <h2 id="何时使用beforedestory"><a href="#何时使用beforedestory" class="header-anchor">#</a> 何时使用beforeDestory</h2> <ul><li>解绑自定事件 event.$off</li> <li>清除定时器</li> <li>解绑自定义的dom事件，比如 window scroll等</li></ul> <h2 id="vue模版编译原理"><a href="#vue模版编译原理" class="header-anchor">#</a> Vue模版编译原理</h2> <p>简单说，Vue的编译过程就是将<code>template</code>转化为<code>render函数</code>的过程。会经历以下阶段：</p> <ul><li>生成AST树</li> <li>优化</li> <li>codegen
首先解析模版，生成<code>AST语法树</code>(一种用JavaScript对象的形式来描述整个模板)。
使用大量的正则表达式对模板进行解析，遇到标签、文本的时候都会执行对应的钩子进行相关处理。</li></ul> <p>Vue的数据是响应式的，但其实模板中并不是所有的数据都是响应式的。有一些数据首次渲染后就不会再变化，对应的DOM也不会变化。那么优化过程就是深度遍历AST树，按照相关条件对树节点进行标记。这些被标记的节点(静态节点)我们就可以跳过对它们的比对，对运行时的模板起到很大的优化作用。</p> <p>编译的最后一步是将优化后的AST树转换为可执行的代码</p> <h2 id="ssr-serve-side-render"><a href="#ssr-serve-side-render" class="header-anchor">#</a> SSR(Serve Side Render)</h2> <p>SSR也就是服务端渲染，也就是将Vue在客户端把标签渲染成HTML的工作放在服务端完成，然后再把html直接返回给客户端。</p> <p>优点：</p> <ul><li>SPA 框架 SEO 的解决方案（nuxt）</li> <li>首屏加载速度更快等优点</li></ul> <p>缺点：</p> <ul><li>开发条件会受到限制，服务器端渲染只支持beforeCreate和created两个钩子</li> <li>当我们需要一些外部扩展库时需要特殊处理</li> <li>服务端渲染应用程序也需要处于Node.js的运行环境</li> <li>服务器会有更大的负载需求</li></ul> <h2 id="vue的性能优化"><a href="#vue的性能优化" class="header-anchor">#</a> Vue的性能优化</h2> <ol><li>编码阶段</li></ol> <ul><li>尽量减少data中的数据，data中的数据都会增加getter和setter，会收集对应的watcher</li> <li>v-if和v-for不能连用</li> <li>如果需要使用v-for给每项元素绑定事件时使用事件代理</li> <li>更多的情况下，使用<code>v-if</code>替代<code>v-show</code></li> <li><code>key</code>保证唯一</li> <li>使用<code>路由懒加载</code>、异步组件</li> <li>防抖、节流</li> <li>第三方模块按需导入</li> <li>长列表滚动到可视区域动态加载</li> <li>图片懒加载</li> <li>自定义事件，dom事件及时销毁，否则会造成内存泄露，页面越来越卡</li> <li>合理使用<code>keep-alive</code></li></ul> <ol start="2"><li>SEO优化</li></ol> <ul><li>预渲染</li> <li>服务端渲染SSR</li></ul> <ol start="3"><li>打包优化</li></ol> <ul><li>压缩代码</li> <li>Tree Shaking/Scope Hoisting</li> <li>使用cdn加载第三方模块</li> <li>多线程打包happypack</li> <li>splitChunks抽离公共文件</li> <li>sourceMap优化</li></ul> <ol start="4"><li>用户体验</li></ol> <ul><li>骨架屏</li> <li>PWA</li> <li>还可以使用缓存(客户端缓存、服务端缓存)优化、服务端开启gzip压缩等</li></ul> <p><a href="https://juejin.im/post/5e04411f6fb9a0166049a073#heading-7" target="_blank" rel="noopener noreferrer">参考<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="手写代码-实现vue的数据劫持"><a href="#手写代码-实现vue的数据劫持" class="header-anchor">#</a> 手写代码，实现vue的数据劫持</h2> <div class="language-js extra-class"><pre class="language-js"><code></code></pre></div><h2 id="父组件监听到子组件的生命周期"><a href="#父组件监听到子组件的生命周期" class="header-anchor">#</a> 父组件监听到子组件的生命周期</h2> <ol><li>使用 on 和 emit</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Parent.vue</span>
<span class="token operator">&lt;</span>Child @mounted<span class="token operator">=</span><span class="token string">&quot;doSomething&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token comment">// Child.vue</span>
<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">&quot;mounted&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="2"><li>使用 hook 钩子函数</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//  Parent.vue</span>
<span class="token operator">&lt;</span>Child @hook<span class="token operator">:</span>mounted<span class="token operator">=</span><span class="token string">&quot;doSomething&quot;</span> <span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Child<span class="token operator">&gt;</span>

<span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'父组件监听到 mounted 钩子函数 ...'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token comment">//  Child.vue</span>
<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'子组件触发 mounted 钩子函数 ...'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token comment">// 以上输出顺序为：</span>
<span class="token comment">// 子组件触发 mounted 钩子函数 ...</span>
<span class="token comment">// 父组件监听到 mounted 钩子函数 ...</span>
</code></pre></div><h2 id="怎么给vue定义全局方法"><a href="#怎么给vue定义全局方法" class="header-anchor">#</a> 怎么给vue定义全局方法</h2> <ol><li>将方法挂载到 Vue.prototype 上面</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// global.js</span>
<span class="token keyword">const</span> <span class="token function-variable function">checkMobile</span> <span class="token operator">=</span> <span class="token parameter">m</span> <span class="token operator">=&gt;</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[1][0-9]{10}$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  checkMobile<span class="token punctuation">,</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// main.js</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> global <span class="token keyword">from</span> <span class="token string">&quot;@/global&quot;</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>global<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">key</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">[</span><span class="token string">&quot;$g_&quot;</span> <span class="token operator">+</span> key<span class="token punctuation">]</span> <span class="token operator">=</span> global<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 挂载之后，在需要引用全局变量的模块处(App.vue)，</span>
<span class="token comment">// 不需再导入全局变量模块，而是直接用this就可以引用了，如下:</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$g_checkMobile</span><span class="token punctuation">(</span><span class="token number">13988776655</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><ol start="2"><li>全局混入mixin</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// mixin.js</span>
<span class="token keyword">const</span> mixin <span class="token operator">=</span> <span class="token punctuation">{</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">checkMobile</span><span class="token punctuation">(</span><span class="token parameter">m</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[1][0-9]{10}$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> mixin
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// main.js</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> mixin <span class="token keyword">from</span> <span class="token string">'@/mixin'</span>
Vue<span class="token punctuation">.</span><span class="token function">mixin</span><span class="token punctuation">(</span>mixin<span class="token punctuation">)</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 在项目中直接使用</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
 <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">checkMobile</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="3"><li>使用Plugin方式</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// plugin.js</span>
<span class="token keyword">const</span> <span class="token function-variable function">checkMobile</span> <span class="token operator">=</span> <span class="token parameter">m</span> <span class="token operator">=&gt;</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[1][0-9]{10}$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> plugin <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">install</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">Vue</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>$plugins_checkMobile <span class="token operator">=</span> checkMobile
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// main.js</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> plugin <span class="token keyword">from</span> <span class="token string">'@/plugin'</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>plugin<span class="token punctuation">)</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 使用</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
 <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$plugins_checkMobile</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="4"><li>任意 vue 文件中写全局函数</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 创建全局方法</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$root<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 销毁全局方法</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$root<span class="token punctuation">.</span><span class="token function">$off</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 调用全局方法</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$root<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2021-05-17 14:29:39</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/frame/vue/v2/render.html" class="prev">
        渲染
      </a></span> <!----></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.a68e905e.js" defer></script><script src="/assets/js/2.545454b5.js" defer></script><script src="/assets/js/3.e1ad05a6.js" defer></script>
  </body>
</html>
